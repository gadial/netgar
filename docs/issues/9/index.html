<!DOCTYPE html>
<html lang="he" dir="rtl"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>נטגר | עיתון מתמטי לנוער</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="נטגר" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="עיתון מתמטי לנוער" />
<meta property="og:description" content="עיתון מתמטי לנוער" />
<link rel="canonical" href="/issues/9/" />
<meta property="og:url" content="/issues/9/" />
<meta property="og:site_name" content="נטגר" />
<script type="application/ld+json">
{"@type":"WebPage","url":"/issues/9/","description":"עיתון מתמטי לנוער","headline":"נטגר","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="/assets/css/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/favicon.ico" type="image/x-icon"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="נטגר" /><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$latex','$'] ],
        processEscapes: true
      },
      TeX: {extensions: ["AMSmath.js","AMSsymbols.js"]},
      "HTML-CSS": { 
        linebreaks: { automatic: true }
      },
      SVG: { 
        linebreaks: { automatic: true } 
      }
    });
  </script>

  <script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
  
</head>
<body><header>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <a class="navbar-brand" href="/">נטגר</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="/about/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">אודות</a>
        </li>   
        <li class="nav-item">
          <a class="nav-link" href="/issues/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">גליונות</a>
        </li>   
        <li class="nav-item">
          <a class="nav-link" href="/scans/gilionot/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ארכיון של "גליונות למתמטיקה"</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/scans/pages_math_physics/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ארכיון של "דפים למתמטיקה ופיזיקה"</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/scans/quarterly/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ארכיון של "רבעון למתמטיקה"</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/riddles/" id="dropdown_scans" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">חידות</a>
        </li>
      </ul>
    </div>
  </nav>
</header><main class="page-content" aria-label="Content" role="main">
      <div class="wrapper text-right">
        <h1>נטגר גליון 9</h1>


    <hr>
    <h2>דבר העורך</h2>
    <h3>רון אהרוני</h3>
    <p style="direction: rtl;">
  קוראים יקרים.
</p>

<p style="direction: rtl;">
  מי שקורא את "נטגר" חזקה עליו שהוא אוהב מתמטיקה. אבל האם הוא יודע מה זו מתמטיקה?
</p>

<p style="direction: rtl;">
  פיזיקאי יידע להשיב על השאלה במה הוא עוסק. מתמטיקאי - לא בטוח. בזה הוא נמצא בחברה טובה. למשל, עם פילוסופים: הם מתגאים בכך שאינם יודעים במה הם עוסקים, וטוענים לפעמים שההגדרה של מקצועם היא "המקצוע היחיד ששאלת הגדרתו נמצאת בתחומו". גם משוררים יתקשו להסביר מהו שיר. אבל מתמטיקה היא מקצוע מדויק, שתחומו אמור להיות מוגדר היטב. האם לא מן הראוי שמי שעוסק במתמטיקה יידע מהי? בגיליון הזה מנסה אנה ליזהטוב להשיב על השאלה.
</p>

<p style="direction: rtl;">
  מה שהמתמטיקה לא תהיה, היא יפה. ובגיליון הזה יש מאמר יפה על מספרים "שמחים ועצובים". הוא מספר על תהליך מסוים שאפשר לעשות על מספרים: לקחת את סכום ריבועי הספרות שלהם. זוהי פונקציה מן המספרים הטבעיים לעצמם. מה קורה כשחוזרים על התהליך? כלומר מפעילים את הפונקציה על מספר, ואז על ערך הפונקציה שהתקבל, ואז על הערך החדש שהתקבל, וכו'? האם אתם יכולים לנחש מה יקרה? במאמר ניתנת התשובה המדויקת.
</p>

<p style="direction: rtl;">
   גם כתבנו הוותיק גדי אלכסנדרוביץ' תרם לנו משהו מן הבלוג שלו, "לא מדויק". וגם הוא נדרש לשאלה "מה זו מתמטיקה": מה הופך בעיה כה פשוטה כמו "איך לשלם סכום של $latex 31 $ שקלים עם מספר קטן ככל האפשר של מטבעות" לבעיה עם עומק מתמטי?
</p>

<p style="direction: rtl;">
  וגם גיבורנו יסולא פז חוזר. הפעם הוכיח בשיטות חדשניות השערה בת מאות שנים, השערת גולדבך. יש קולות מלעיזים, הטוענים שיסולא יורד מן הפסים. אבל אם כך הוא אז, כפי שתראו, הדבר נכון לעוד הרבה מאוד אנשים במדינה הזאת.
</p>

<p style="direction: rtl;">
  קריאה מהנה, העורך
</p>


    <hr>
    <h2>בעיית המטבעות</h2>
    <h3>גדי אלכסנדרוביץ</h3>
    <p style="text-align: right;">
  המאמר הבא פורסם בבלוג המתמטי <a href="http://www.gadial.net/">"לא מדויק</a>" ומפורסם פה פעם נוספת באדיבות גדי אלכסנדרוביץ'.
</p>

<p style="text-align: right;">
  אני רוצה להציג הפעם בעיה שמתאימה בול לבלוג: היא קלה לניסוח, מעניינת ו<a href="http://graal.ens-lyon.fr/~abenoit/algo09/coins2.pdf">בעלת פתרון</a> שלא דורש מתמטיקה עמוקה בכלל, כך שהוא ניתן להבנה על ידי קוראים חסרי רקע במתמטיקה (אבל שכן מוכנים להשקיע מאמץ בנסיון להבין); מצד שני, ההצגה והפתרון שלה נותנים לנו הזדמנות להרגיש בדיוק מה קורה במתמטיקה – ברמת הניסוחים הפורמליים שמקלים עלינו, ושיטות ההוכחה. בקיצור, אם מעולם לא נתקלתם במתמטיקה, נסו לקרוא את הפוסט הזה!
</p>

<p style="text-align: right;">
  אנחנו רוצים לפתור בעיה שקשורה ל<strong>מערכת מטבעות</strong>. נתון לנו סכום כסף מסויים ויש מספר סוגי מטבעות שאנחנו יכולים להשתמש בהם – איך אנחנו מייצגים את הסכום בעזרת המטבעות?
</p>

<p style="text-align: right;">
  נתחיל מדוגמאות קונקרטיות. בישראל כיום יש לנו מטבעות עבור 10 אגורות, 50 אגורות, 1 שקל, 2 שקלים, 5 שקלים, 10 שקלים, 20 שקלים, 50 שקלים, 100 שקלים ו-200 שקלים. המילה "מטבעות" קצת מטעה, כמובן, כי 20,50,100,200 הם סכומים שבאים בשטרות, לא במטבעות; אבל אני משתמש במילה "מטבעות" כדי לתאר כל סוג של כסף מזומן. כמו כן, אין לי כוח לאגורות אז בואו נשכח מקיומן ונדבר רק על סכומים שהם מספר שלם של שקלים. עכשיו, איך אפשר לייצג 12 ש"ח? הנה כמה דרכים: אפשר להשתמש ב-12 מטבעות של 1 ש"ח; אפשר להשתמש ב-6 מטבעות של 2 ש"ח; אפשר להשתמש ב-5 מטבעות של 2 ש"ח ובשני מטבעות של 1 ש"ח; אפשר להשתמש במטבע אחד של 10 ש"ח ומטבע אחד של 2 ש"ח, ועוד ועוד. אנחנו רואים שגם עבור סכום כסף קטן יחסית יש לו המון ייצוגים שונים. השאלה היא – מה הייצוג ה<strong>אופטימלי</strong>?
</p>

<p style="text-align: right;">
  אופטימליות יכולה להימדד בכמה דרכים, אבל הדרך הכי מתבקשת היא פשוט כמה שפחות מטבעות (אני מתעלם כאן מעניינים של משקל וגודל המטבעות שאולי משפיעים על מה שאנחנו נתפוס כ"אופטימלי"). לכן ההצגה של 12 בתור 10 ועוד 2 היא האופטימלית, כי היא משתמשת בשני מטבעות בלבד.
</p>

<p style="text-align: right;">
  עכשיו, נניח שאני רוצה לייצג את 31 בצורה אופטימלית. איך עושים את זה? עצרו רגע, וחשבו – ראשית כל, חשבו מה הצורה שבה אתם תחלקו את הסכום הזה למטבעות; ושנית, חשבו האם זו דרך החלוקה האופטימלית.
</p>

<p style="text-align: right;">
  חשבתם? קרוב לודאי שהחלוקה שחשבתם עליה היא 20 ועוד 10 ועוד 1. זו חלוקה מאוד <strong>טבעית</strong>, שנובעת משיטת חלוקה שאוהבים לקרוא לה "חמדנית". בשיטה החמדנית, בכל רגע נתון בוחרים בדבר "הכי טוב" שנראה שאפשר לעשות כרגע. ספציפית אצלנו זה אומר שאנחנו בוחרים את המטבע בעל הערך הגבוה ביותר שעדיין לא עובר את הסכום שאנחנו רוצים לייצג כרגע, ואז מנסים לייצג את מה שנשאר. במקרה של 31 התחלנו מ-20 כי המטבע הבא (50) כבר גדול מדי. נותר לנו לייצג את 11, ולכן המטבע הבא היה 10, וזה שאחריו היה 1. בדומה, עבור 76 נקבל בשיטה החמדנית את 50 ואז 20 ואז 5 ואז 1.
</p>

<p style="text-align: right;">
  האם החלוקות החמדניות הללו אופטימליות? התשובה היא חיובית, וזאת בשל תכונה נחמדה שיש למערכת המטבעות בישראל – <strong>החלוקה החמדנית היא תמיד אופטימלית</strong> במערכת הזו. זה מעלה מייד שאלה אחרת – האם קיימת מערכת מטבעות שבה החלוקה החמדנית היא לא תמיד אופטימלית?
</p>

<p style="text-align: right;">
  למרבה המזל, בבריטניה הייתה נהוגה בעבר שיטת מטבעות הזויה לחלוטין, שבה התכונה הנחמדה הזו לא התקיימה. במערכת המטבעות הזו ערכי המטבעות היו 1,3,6,12,24,30,60,240 (יחידת המטבע הבסיסית היא פני). מה האלגוריתם החמדני יתן עבור 48 במערכת המטבעות הזו? קל לראות שאת החלוקה 30+12+6, שכוללת 3 מטבעות. לעומת זאת, החלוקה 24+24 כוללת רק 2 מטבעות ולכן עדיפה. מסקנה: קיימות מערכות של מטבעות שבהן החלוקה החמדנית אינה אופטימלית.
</p>

<p style="text-align: right;">
  מכאן נובעות שתי שאלות הכרעה אלגוריתמיות:
</p>

<ol style="text-align: right;">
  <li>
    נתונה מערכת מטבעות ונתון סכום כלשהו. האם החלוקה החמדנית של הסכום הזה במערכת המטבעות הנתונה היא אופטימלית?
  </li>
  <li>
    נתונה מערכת מטבעות. האם החלוקה החמדנית במערכת המטבעות הנתונה <strong>תמיד</strong> נותנת את החלוקה האופטימלית?
  </li>
</ol>

<p style="text-align: right;">
  הבעיה הראשונה נראית קלה יותר מן השניה – בראשונה אנחנו רק צריכים לבדוק סכום אחד, בעוד שבשאלה השניה אנחנו צריכים איכשהו לומר משהו על <strong>כל</strong> הסכומים האפשריים. לכן הטוויסט הבא כל כך נחמד: הבעיה הראשונה היא <strong>קשה</strong> אלגוריתמית, במובן מאוד קונקרטי שניתן להוכיח; ואילו הבעיה השניה היא משמעותית יותר <strong>קלה</strong> אלגוריתמית. פורמלית, למי שמכיר, הבעיה הראשונה היא NP-שלמה בעוד שהבעיה השניה היא ב-P.
</p>

<p style="text-align: right;">
  איך זה הגיוני בכלל? פשוט מאוד: כדי לדעת אם מערכת מטבעות אינה מקיימת את תכונת ה"חמדני הוא אופטימלי" מספיק למצוא דוגמה נגדית <strong>אחת</strong>. באופן ממוזל, בזכות המבנה של הבעיה, מובטח לנו תמיד שאם קיימת דוגמה נגדית אז תהיה קיימת דוגמה נגדית <strong>פשוטה</strong> שיהיה קל למצוא ולבדוק. לעומת זאת, אם שואלים אותנו על סכום שרירותי כלשהו, בכלל לא מובטח לנו שיהיה קל לבדוק אותו.
</p>

<p style="text-align: right;">
  מה שנכון הוא שאפשר לנסות לתקוף את בעיה 1 בעזרת בעיה 2: ראשית כל נבדוק אם מערכת המטבעות שלנו היא כזו שבה חלוקה חמדנית היא תמיד אופטימלית. אם זה אכן המצב, אז התשובה לשאלה ב-1 היא תמיד "כן" בלי קשר לשאלה מה הסכום שלנו; כלומר, במקרה כזה גם שאלה 1 היא קלה. אבל אם התשובה ל-2 הייתה "לא" אז אין לנו מושג איך לענות ל-1; ייתכן שהחלוקה החמדנית לא עובדת עבור הסכום שלנו וייתכן שהיא כן. כלומר, זה שאנחנו יודעים איך לפתור את 2 ביעילות לא עזר לנו לפתור את 1.
</p>

<p style="text-align: right;">
  מה שאני רוצה לעשות בפוסט הזה הוא שלושה דברים: ראשית, להראות איך מפרמלים מתמטית את הבעיות הללו; שנית, להסביר מה האלגוריתם היעיל שפותר את 2; ולבסוף, לומר משהו על איך מראים ש-1 קשה. רק עבור ה"לבסוף" אצטרך לדרוש ידע מוקדם כלשהו, למרות שתוכלו פשוט להאמין לכמה הצהרות שאזרוק שם ולוותר על הידע המוקדם הזה.
</p>

<p style="text-align: right;">
  בואו נעבור לניסוחים פורמליים. את מערכת המטבעות נסמן באות \(C\). מערכת כזו מאופיינת על ידי סדרה של מספרים טבעיים – ערכי המטבעות האפשריים. נסדר אותם מהגדול לקטן, כלומר \(C=\left(c_{1},c_{2},\dots,c_{n}\right)\) כאשר \(c_{1}&gt;c_{2}&gt;\dots&gt;c_{n}\). כמו כן נניח ש-\(c_{n}=1\), כי אחרת מערכת המטבעות שלנו לא שלמה ולא יכולה לייצג חלק מהסכומים (לפחות את 1). אז למשל, במערכת הישראלית יש לנו \(C=\left(200,100,50,20,10,5,2,1\right)\) (ו-\(n=8\)). למי שלא מכיר – סדרה כזו של איברים נקראת לעתים קרובות <strong>וקטור</strong> והאיברים האינדיבידואלים בוקטור מכונים <strong>כניסות</strong>.
</p>

<p style="text-align: right;">
  עכשיו, <strong>ייצוג</strong> של סכום כלשהו במערכת \(C\) הוא בעצם סדרה של \(n\) מספרים טבעיים, שאומרים "כמה מכל סוג מטבע אנחנו לוקחים". כך למשל \(V=\left(0,0,1,0,1,0,1,0\right)\) הוא ייצוג של 50+10+2, כלומר של 62. עכשיו נכניס לתמונה הוקוס-פוקוס של סימון מתמטי סטנדרטי: אם \(\left(a_{1},\dots,a_{n}\right)\) ו-\(\left(b_{1},\dots,b_{n}\right)\) הם שני וקטורים, אז <strong>המכפלה הסקלרית</strong> שלהם מתקבלת מכפל של איברים באותו מקום בשני הוקטורים וחיבור של כולם. נכון שבכלל לא הבנתם מה אמרתי כרגע? זה כי ניסוחים טקסטואליים הם מסורבלים ונוסחאות קלות יותר להבנה:
</p>

<p style="text-align: right;">
  \(\left(a_{1},\dots,a_{n}\right)\cdot\left(b_{1},\dots,b_{n}\right)=\sum_{i=1}^{n}a_{i}b_{i}=a_{1}b_{1}+a_{2}b_{2}+\dots+a_{n}b_{n}\)
</p>

<p style="text-align: right;">
  סימן ה-\(\sum\) הוא סימון מקוצר לסכימה שמקובל במתמטיקה; עבור מי שלא מכיר אותו כתבתי את הסכום יותר במפורש מימינו.
</p>

<p style="text-align: right;">
  כעת, חמושים בסימן המכפלה הסקלרית, קל לנו להמשיך: אם \(C\) היא מערכת המטבעות שלנו ו-\(V\) הוא וקטור של טבעיים, אז המספר ש-\(V\) מייצג במערכת \(C\) הוא פשוט \(C\cdot V\). כמו כן, אם נסתכל על \(V\cdot\left(1,1,\dots,1\right)\) נקבל את מספר המטבעות שבהן \(V\) משתמש (זה בעצם סכום כל הכניסות של \(V\)). נשתמש בסימון המקוצר \(\left|V\right|=V\cdot\left(1,1,\dots,1\right)\) ונאמר ש-\(\left|V\right|\) הוא <strong>המשקל</strong> של \(V\).
</p>

<p style="text-align: right;">
  כעת אנחנו רוצים לתאר את הוקטור שהוא הייצוג הטוב ביותר של מספר \(x\) כלשהו במערכת המטבעות \(C\). ברור שזה צריך להיות וקטור \(V\) שמקיים \(C\cdot V=x\), אבל אי אפשר סתם לומר "בואו ניקח מבין כל ה-\(V\) האפשריים את זה בעל המשקל המינימלי", כי אולי יש כמה וקטורים שונים בעלי משקל מינימלי שכזה. למשל, במערכת המוזרה של הבריטים אפשר לייצג את 36 בתור 30+6 או בתור 24+12 – שני ייצוגים מגודל 2, ואין ייצוג מגודל 1 כי אין מטבע של 36. אז צריך לבחור בצורה כלשהי מי מבין שני הייצוגים הללו הוא "טוב יותר", והבחירה שלנו היא להעיף כמה שיותר מטבעות גדולים. כמקודם, גם כאן הפורמליזם יאפשר לי להסביר את הכוונה שלי יותר טוב מאשר מילים.
</p>

<p style="text-align: right;">
  למי שמכיר, מה שאנחנו עושים הוא קובעים סדר לקסיקוגרפי על הוקטורים \(V\) האפשריים באופן הטבעי. למי שלא מכיר, הנה מה שזה אומר. ראשית, בואו ניזכר איך מילים מסודרות במילון (בהנחה שמישהו עדיין זוכר איך מילים מסודרות במילון…): ראשית כל מופיעות כל המילים שמתחילות באות א', אחריהן אלו שמתחילות באות ב' וכדומה. כלומר, משווים מילים על פי האות הראשונה שלהן. אם היא שונה, אז באה קודם מי שהאות הראשונה שלה באה קודם. ומה עם מילים שבהן האות הראשונה שווה? עוברים לאות השניה, וכדומה.
</p>

<p style="text-align: right;">
  ניקח את אותו רעיון עבור וקטורים. נסמן \(U&lt;V\) אם קיים \(1\le i\le n\) כך ש-\(u_{j}=v_{j}\) לכל \(j&lt;i\) וכמו כן \(u_{i}&lt;v_{i}\). למשל, \(\left(1,100,500\right)&lt;\left(2,0,3\right)\). כעת אפשר לומר על וקטור כלשהו \(V\) שהוא <strong>מקסימלי</strong> בקבוצת וקטורים אם לכל וקטור \(U\) שונה ממנו בקבוצה מתקיים \(U&lt;V\).
</p>

<p style="text-align: right;">
  עכשיו אפשר לומר בדיוק מה אנחנו רוצים: בהינתן מערכת מטבעות \(C\) וערך \(x\) כלשהו, אני מסמן ב-\(M\left(x\right)\) (\(M\) מלשון Minimal) וקטור \(V\) שנבחר כך: ראשית אני מסתכל על כל הוקטורים \(U\) המקיימים \(C\cdot U=x\). שנית, מביניהם אני מסתכל על כל אלו שעבורם \(\left|U\right|\) הוא מינימלי; ולבסוף, מבין מי שנשארו אני לוקח את זה שהוא מקסימלי בסדר הלקסיקוגרפי להיות ה-\(V\) שלי. אפשר לכתוב את זה פורמלית באופן הבא:
</p>

<p style="text-align: right;">
  \(V=\max\left(\arg\min_{\left|U\right|}\left\{ U\ |\ C\cdot U=x\right\} \right)\).
</p>

<p style="text-align: right;">
  הכתיב הפורמלי כאן הוא לטעמי מסובך מדי ואין ממש הכרח להשתמש בו – ברור מה אני רוצה גם מהניסוח המילולי. עם זאת, יש כאן מוקש נפוץ למדי במתמטיקה שצריך להיזהר איתו. אני מגדיר כאן אובייקט כלשהו, אבל בכלל לא מובטח לי שהוא קיים. הסכנה במקרה הספציפי שלנו היא שאף אחד לא מבטיח לי אוטומטית שקבוצת "כל הוקטורים \(U\) המקיימים \(C\cdot U=x\)" אינה ריקה. במקרה שלנו, מכיוון שאמרנו שהמטבע 1 תמיד יהיה במערכת המטבעות שלנו, תמיד יש וקטור כזה – \(U=\left(0,0,\dots,0,x\right)\), ולכן ההגדרה שלי טובה (שימו לב שהוקטור הזה הוא <strong>הקטן ביותר</strong> בסדר הלקסיקוגרפי, וש-\(\left|U\right|\) יהיה <strong>הגדול ביותר</strong> מבין כל המשקלים של וקטורים שמייצגים את \(w\)).
</p>

<p style="text-align: right;">
  אם כן, \(M\left(x\right)\) הוא הייצוג האופטימלי של \(x\). עדיין נותר להגדיר את הייצוג החמדני, אבל זה קל – אנחנו פשוט מוותרים על דרישת המינימום של המשקל. דהיינו, אגדיר \(G\left(x\right)=\max\left\{ U\ |\ C\cdot U=x\right\} \) (כאן \(G\) הוא מלשון Greedy – חמדני). למה האיבר המקסימלי לקסיקוגרפית מבין אלו שמייצגים את \(x\) מתאים לייצוג החמדני? כי מה זה אומר, שהוא ראשון לקסיקוגרפית? ראשית, שהכניסה הראשונה (שמייצגת את המטבע הכי גדול) היא הכי גדולה שרק אפשר כך שעדיין נייצג את \(x\); ואחר כך הכניסה השניה היא הגדולה ביותר שרק אפשר, בהינתן הערך של הכניסה הראשונה, וכן הלאה. זה זמן טוב לעצור ולוודא שאתם מבינים אותי (ואת כל הסימונים שהיו עד כה). אם איבדתם אותי, נסו לקרוא שוב, או לנסות ולהמציא את ההגדרות מחדש בעצמכם; אין טעם להמשיך לקרוא בלי להרגיש בנוח עם מה שהלך עד כה.
</p>

<p style="text-align: right;">
  כעת אפשר לנסח מתמטית את מה שאנחנו רוצים. נאמר שמערכת המטבעות \(C\) היא <strong>קנונית</strong> אם \(M\left(x\right)=G\left(x\right)\) לכל \(x\) טבעי. שתי הבעיות שלנו, אם כן, הן הבעיות הבאות:
</p>

<ol style="text-align: right;">
  <li>
    בהינתן \(C,x\), האם \(M_{C}\left(x\right)=G_{C}\left(x\right)\)?
  </li>
  <li>
    בהינתן \(C\), האם \(M_{C}\left(x\right)=G_{C}\left(x\right)\) לכל \(x\)?
  </li>
</ol>

<p style="text-align: right;">
  הוספתי את \(C\) ל-\(M,G\) למטה כדי לציין שהפונקציות הללו תלויות במערכת המטבעות \(C\) שלנו. בדרך כלל זה מובן מאליו ולכן אני לא טורח לכתוב את זה במפורש, אבל בניסוח הפורמלי של הבעיות שאנחנו רוצים לפתור זה נראה לי מתאים.
</p>

<p style="text-align: right;">
  עכשיו בואו נעבור לפתרון הבעיה שאנחנו יודעים לפתור – בעיה 2. הרעיון הוא שבהינתן מערכת המטבעות \(C\), אם היא לא קנונית אז יש <strong>דוגמאות נגדיות</strong> לקנוניות שלה – כל מני \(x\)-ים שמקיימים \(M\left(x\right)\ne G\left(x\right)\). מביניהם, נסמן ב-\(w\) את הדוגמה הנגדית הקטנה ביותר. הפתרון שלנו יתבסס על כך ש-\(w\) יכול להיות רק אחד מבין לכל היותר מספר לא גדול של ערכים שונים שאפשר לחשב מתוך \(C\) – מספר שלא אתן במדויק אבל הוא לא גדול מ-\(n^{2}\) (כאשר \(n\), כזכור, הוא מספר המטבעות ב-\(C\) – ה"אורך" של הוקטור \(C\)). יותר מכך – עבור כל ה-\(w\)-ים הפוטנציאליים הללו, אנחנו יודעים בדיוק מהו \(,M\left(w\right)\) ולכן כל מה שנותר לנו לעשות הוא לחשב עבורם את \(G\left(w\right)\) (זה מהיר) ולבדוק אם \(G\left(w\right)\ne M\left(w\right)\). אם כן – סיימנו; הוכחנו ש-\(C\) אינה קנונית. אם לכל \(n^{2}\) המועמדים שבדקנו התקיים \(G\left(w\right)=M\left(w\right)\) אנחנו יכולים לעצור ובלב שקט לומר ש-\(C\) קנונית.
</p>

<p style="text-align: right;">
  אבל איך נראים המועמדים? ובכן, אני אתן עכשיו את הניסוח המדויק של המשפט שנותן לנו אותם. בהתחלה ממש לא יהיה ברור למה שהמשפט הזה יהיה נכון – מן הסתם מה שאעשה בהמשך יהיה להוכיח אותו. המשפט הוא כזה: נניח ש-\(w\) היא הדוגמה הנגדית המינימלית. נסמן ב-\(i\) את האינדקס של הכניסה הראשונה ב-\(M\left(w\right)\) שאינה אפס וב-\(j\) את האינדקס של הכניסה האחרונה ב-\(M\left(w\right)\) שאינה אפס (למשל, אם \(M\left(w\right)=\left(0,0,1,2,1,0\right)\) אז \(i=3\) ו-\(j=5\)). כעת הטענה היא ש-\(M\left(w\right)\) הוא בדיוק מהצורה הבאה: בכניסות \(1,2,\dots,j-1\) הוא זהה לגמרי ל-\(G\left(c_{i-1}-1\right)\); בכניסה ה-\(j\)-ית הוא גדול מהכניסה ה-\(j\)-ית של \(G\left(c_{i-1}-1\right)\) ב-1; ובשאר הכניסות הוא 0.
</p>

<p style="text-align: right;">
  שימו לב שכשאנחנו באים להשתמש במשפט הזה, אנחנו לא יודעים מהו \(w\) ולא מהו \(M\left(w\right)\) ולכן <strong>לא יודעים</strong> מהם \(i,j\); אבל אנחנו יכולים לעבור סדרתית על כולם. לכל \(i,j\) נתונים אנחנו יכולים לשחק במשחק ה"נניח ש-\(i,j\) הללו הם הערכים הנכונים, נחשב את \(M\left(w\right)\) ונראה אם הוא שווה ל-\(G\left(w\right)\)".
</p>

<p style="text-align: right;">
  זה מבלבל, אז בואו נראה דוגמה. יש לנו את המערכת הבריטית, עם המטבעות \(1,3,6,12,24,30,60,240\), כלומר \(C=\left(240,60,30,24,12,6,3,1\right)\). אנחנו יודעים ש-\(w=48\) הוא דוגמה נגדית, ואגלה לכם שזו אכן הדוגמה הנגדית המינימלית. עכשיו, \(M\left(w\right)=\left(0,0,0,2,0,0,0,0\right)\) ולכן \(i=j=4\). כעת, מהו \(c_{i-1}-1\)? המטבע \(c_{i-1}=c_{3}\) הוא המטבע 30 (זכרו שאנחנו הולכים מהגדול לקטן), ולכן \(c_{i-1}-1=29\). מהו \(G\left(29\right)\)? הפעלה של האלגוריתם החמדני נותנת לנו \(G\left(29\right)=\left(0,0,0,1,0,0,1,2\right)\). כעת, הכניסות \(1,\dots,j-1\) של \(G\left(29\right)\) הן \(\left(0,0,0\right)\) והכניסה ה-\(j\) כשמוסיפים לה 1 היא 2, ואם משם והלאה יש לנו אפסים קיבלנו על פי המשפט ש-\(M\left(w\right)=\left(0,0,0,2,0,0,0,0\right)\), וזה אכן המצב בפועל. קסם!
</p>

<p style="text-align: right;">
  למה הקסם נכון? או, בואו נתחיל לעשות מתמטיקה.
</p>

<p style="text-align: right;">
  נתחיל עם עוד הגדרה מתבקשת: נאמר שוקטור \(U\) הוא <strong>חמדני</strong> אם \(U=G\left(C\cdot U\right)\) (ובמילים – אם הפעלת האלגוריתם החמדני על המספר ש-\(U\) מייצג מחזירה את \(U\)) ונאמר ש-\(U\) <strong>מינימלי</strong> אם \(U=M\left(C\cdot U\right)\) (במילים – אם הייצוג הטוב ביותר למספר ש-\(U\) מייצג זה הוא עצמו). הטענה שלי היא שוקטורים חמדניים ומינימליים נשארים כאלו גם אם מחסרים להם משהו מהכניסות. בואו נכתוב את זה קצת יותר פורמלית: נשתמש בסימון \(U\subseteq V\) במקרה שבו קיים וקטור \(D\) כך ש-\(U+D=V\) (במתמטיקה יש ל-\(\subseteq\) לרוב שימוש שונה אבל לא נזדקק לשימוש השונה הזה כאן). למשל, אם \(U=\left(1,2,3\right)\) ו-\(D=\left(4,0,3\right)\) אז נקבל \(U+D=\left(5,2,6\right)\).
</p>

<p style="text-align: right;">
  שימו לב שהגדרנו על וקטורים פעולות "חיבור" ו"כפל" וגם יחס סדר \(\le\) שהן שונות למדי מהפעולות והיחסים שאנחנו מכירים על מספרים; היופי בעניין הוא שה<strong>תכונות </strong>שאנחנו רגילים להן ממספרים משתמרות ברובן גם עבור הפעולות החדשות. למשל, \(\left(A+B\right)\cdot C=A\cdot C+B\cdot C\). ולמשל \(A\le B\) אם ורק אם \(A+D\le B+D\) (בדקו זאת!). זה מאפשר לנו לתת הוכחה אלגנטית לטענה שלנו. בואו נניח אם כן ש-\(U\le V\) וש-\(V\) חמדני, ונוכיח ש-\(G\) חמדני. לשם כך ניקח \(U^{\prime}\) כלשהו שמייצג את אותו מספר כמו \(U\), דהיינו \(C\cdot U=C\cdot U^{\prime}\), ונראה ש-\(U^{\prime}\le U\) (כלומר, \(U\) הוא הגדול ביותר מבין כל הייצוגים למספר שהוא מייצג, ולכן מה שהאלגוריתם החמדני יחזיר).
</p>

<p style="text-align: right;">
  כל מה שנצטרך הוא מניפולציות אלגבריות. אם \(U^{\prime}\cdot C=U\cdot C\) אז נקבל ש:
</p>

<p style="text-align: right;">
  \(\left(V-U+U^{\prime}\right)\cdot C=V\cdot C-U\cdot C+U^{\prime}\cdot C=V\cdot C\)
</p>

<p style="text-align: right;">
  מה שאומר שהוקטור \(V\) מייצג את אותו המספר כמו \(V-U+U^{\prime}\). מכיוון ש-\(V\) חמדני הוא גדול מכל וקטור אחר שמייצג את אותו מספר, ומכיוון ש-\(V-U+U^{\prime}\) הוא וקטור שכל הכניסות בו חיוביות הוא אכן מייצג מספר. והן כולן חיוביות כי \(U\subseteq V\) – זה המקום שבו אנחנו משתמשים בנתון הזה. ולכן:
</p>

<p style="text-align: right;">
  \(V-U+U^{\prime}\le V\)
</p>

<p style="text-align: right;">
  וכעת ניתן לבצע "העברת אגפים" ממש כמו באי-שוויונות במספרים רגילים, ולקבל \(U^{\prime}\le U\), כמבוקש.
</p>

<p style="text-align: right;">
  הוכחה דומה עובדת גם עבור הטענה שאם \(V\) מינימלי ו-\(U\subseteq V\) אז \(U\) מינימלי. רק צריך לשנות קצת את המשמעות של \(\le\) כך שאם \(\left|A\right|\ge\left|B\right|\) אז \(A\le B\) (קצת מבלבל, אבל זכרו את הרעיון – וקטור מינימלי הוא וקטור <strong>בעל משקל מינימלי</strong> שהוא <strong>הגדול ביותר לקסיקוגרפית</strong>; כלומר, הסינון הראשוני הוא על פי המשקל, ומשקל קטן יותר הוא טוב יותר). צריך להוכיח שהמשמעות החדשה עדיין מקיימת את התכונות האלגבריות הנחמדות, אבל אין כאן משהו קשה.
</p>

<p style="text-align: right;">
  בואו נבין איך אני הולך להשתמש במה שהוכחתי. בהמשך אני הולך לקחת כל מני וקטורים שמהוויים ייצוג מינימלי או חמדני לערך כלשהו, ואז לשנות אותם על ידי הקטנה של כניסות בהם – ואני אשתמש בכך שגם אחרי ההקטנה הזו עדיין קיבלתי וקטורים שהם ייצוג מינימלי או חמדני (עבור הערך שהם מייצגים, שהוא שונה מהערך שהוקטור לפני ההקטנה ייצג).
</p>

<p style="text-align: right;">
  עוד תכונה שאשתמש בה בהמשך היא שהפונקציה \(G\) שלוקחת מספר ומתאימה לו את הפתרון החמדני שלו היא <strong>משמרת סדר</strong> במובן הבא: אם \(x&lt;y\) אז \(G\left(x\right)&lt;G\left(y\right)\). כדי לראות את זה, שימו לב לכך ש-\(U=G\left(x\right)+\left(0,0,\dots,y-x\right)\) הוא ייצוג כלשהו עבור \(y\) ולכן \(U\le G\left(y\right)\). כמו כן בבירור \(G\left(x\right)&lt;U\), כי לקחנו את \(G\left(x\right)\) והוספנו לו עוד משהו. משני אלו קיבלנו ש-\(G\left(x\right)&lt;G\left(y\right)\) – המעבר האחרון הוא שימוש בתכונת ה<strong>טרנזיטיביות</strong> של יחס הסדר \(\le\) ואם זה נראה לכם חשוד, נסו להוכיח שזה עובד.
</p>

<p style="text-align: right;">
  עכשיו בואו נתחיל את ההוכחה המרכזית שלנו. נניח ש-\(C\) היא מערכת מטבעות לא קנונית, ויהא \(w\) הדוגמה הנגדית הקטנה ביותר לכך. כלומר, \(G\left(w\right)\ne M\left(w\right)\) אבל לכל \(x&lt;w\) מתקיים \(G\left(x\right)=M\left(x\right)\) (הגישה הזו של "בואו ניקח את המינימלי" היא מאוד נפוצה במתמטיקה – היא אוטומטית נותנת לנו כלי נשק חדש ומועיל במהלך ההוכחה שסתם לקחת דוגמה נגדית כלשהי לא היה נותן לנו). בואו נתחיל להבין את התכונות של \(w\) הזה. ראשית כל, אני טוען שאין ל-\(G\left(w\right),M\left(w\right)\) כניסות משותפות ששונות מאפס. בואו נזכר ב-\(w=48\) של הבריטים: שם \(M\left(w\right)=\left(0,0,0,2,0,0,0,0\right)\) ואילו \(G\left(w\right)=\left(0,0,1,0,1,1,0,0\right)\). ב-\(M\left(w\right)\) הכניסה היחידה שאינה 0 היא הרביעית, ואילו ב-\(G\left(w\right)\) הכניסות שאינן אפס הן 3,5,6. כלומר, אין כניסה ששונה מאפס אצל שניהם, ואני טוען שזה לא מקרי. למה? ובכן, נניח שהכניסה ה-\(k\)-ית בשניהם לא הייתה 0. אז הייתי יכול לחסר ממנה 1 ולקבל מ-\(M\left(w\right)\) ומ-\(G\left(w\right)\) שני וקטורים חדשים<strong> שעדיין מייצגים את אותו מספר</strong> (המספר \(w-c_{k}\) אם אנחנו רוצים להיות מדוייקים), ועל פי הטענה שהוכחתי לפני רגע על \(U\le V\), הוקטור שנקבל מ-\(M\left(w\right)\) על ידי החיסור יהיה הפתרון המינימלי עבור המספר הזה והוקטור שנקבל מ-\(G\left(w\right)\) יהיה הפתרון החמדני עבור המספר הזה. עכשיו, בגלל ש-\(w\) הוא הדוגמה הנגדית המינימלית לסיטואציה שבה הוקטור החמדני והמינימלי שונים, ינבע ששני הוקטורים שקיבלתי הם <strong>זהים</strong>, אבל אם כך גם הוקטורים המקוריים שהתחלתי מהם היו צריכים להיות זהים כי כל מה ששיניתי היה לחסר משניהם 1 באותו מקום.
</p>

<p style="text-align: right;">
  עכשיו בואו נסמן \(M\left(w\right)=\left(m_{1},m_{2},\dots,m_{n}\right)\) וכפי שהבטחתי, נסמן ב-\(i\) את אינדקס הכניסה הראשונה שאינה 0 וב-\(j\) את אינדקס הכניסה האחרונה שאינה 0. אבחנה ראשונה היא ש-\(M\left(w\right)&lt;G\left(w\right)\) על פי הגדרה (כי כל וקטור שמייצג את \(w\) קטן לקסיקוגרפית מ-\(G\left(w\right)\), ואנו מניחים ש-\(M\left(w\right)\ne G\left(w\right)\)). מכיוון ש-\(M\left(w\right),G\left(w\right)\) אינם חולקים כניסות שונות מ-0, הכניסה הראשונה של \(M\left(w\right)\) שאינה אפס חייבת להיות כזו שהיא כן אפס אצל \(G\left(w\right)\); וכדי שעדיין יתקיים \(M\left(w\right)&lt;G\left(w\right)\) נובע שבהכרח יש ל-\(G\left(w\right)\) כניסה <strong>מוקדמת יותר</strong> ששונה מאפס (למה?) ולכן \(1&lt;i\). זו לא הסקה טריוויאלית – שוב, אני ממליץ לכם לוודא שאתם מבינים מה הלך פה.
</p>

<p style="text-align: right;">
  המטרה שלי היא להראות ש-\(M\left(w\right)\) דומה למדי ל-\(G\left(c_{i-1}\right)\), אז בואו ננסה להבין קצת את \(c_{i-1}\) הזה.
</p>

<p style="text-align: right;">
  מכיוון ש-\(i&gt;1\) אפשר לדבר על \(c_{i-1}\) (אם \(i=1\) ואני כותב \(c_{i-1}\) אז כתבתי משהו חסר משמעות כי ה-\(c\)-ים מתחילים מ-1). עכשיו, \(G\left(w\right)\) כולל 1 בכניסה מוקדמת יותר מ-\(i\), כלומר \(w\) מורכב לפחות ממטבע אחד שגדול או שווה ל-\(c_{i-1}\) ומכאן ש-\(w\ge c_{i-1}\). מצאנו <strong>חסם מלעיל</strong> (מלמעלה) על \(c_{i-1}\). עכשיו בואו נמצא <strong>חסם מלרע</strong> (מלמטה) עליו: אנחנו יודעים שאם ניקח את \(M\left(w\right)\) אז הכניסה ה-\(j\) תהיה גדולה מאפס. לכן ניתן לחסר ממנה 1, והוקטור שיתקבל יהיה ייצוג של \(w-c_{j}\) (למה?). הוקטור הזה הוא ייצוג מינימלי של \(w-c_{j}\) ומכיוון ש-\(w-c_{j}\) קטן מ-\(w\) ו-\(w\) הוא הערך המינימלי שהייצוג המינימלי שלו אינו חמדני, קיבלנו שהוקטור שלנו (שהוא \(M\left(w\right)\) שבו הכניסה ה-\(j\) הוקטנה ב-1) הוא הייצוג החמדני של \(w-c_{j}\). עכשיו, הייצוג הזה כולל רק את המטבעות שמשתתפים ב-\(M\left(w\right)\), כלומר המטבע בעל הערך הגדול ביותר שמשתתף בו הוא \(c_{i}\). מסקנה: \(w-c_{j}&lt;c_{i-1}\). קחו שניה ותסבירו לעצמכם למה זה נכון, כי עשיתי פה קפיצה קטנה.
</p>

<p style="text-align: right;">
  ההסבר: אם \(w-c_{j}\ge c_{i-1}\) אז על פי הגדרתו, האלגוריתם החמדני ייקח לפחות את אחת המטבעות \(c_{1},\dots,c_{i-1}\). אנחנו יודעים שהוא לא עשה את זה (אמרתי את זה לפני רגע), ולכן.
</p>

<p style="text-align: right;">
  אם כן, קיבלנו חסם מלרע עבור \(c_{i-1}\). אם נרכז את מה שכבר מצאנו:
</p>

<p style="text-align: right;">
  \(w-c_{j}&lt;c_{i-1}\le w\)
</p>

<p style="text-align: right;">
  זה מראה לנו ש-\(c_{i-1}\) <strong>קרוב מאוד</strong> ל-\(w\). כמה קרוב? הוא נמצא בטווח קטן יחסית שגודלו \(c_{j}\) וקצהו האחד ב-\(w\) עצמו. בואו נשתמש בזה עכשיו.
</p>

<p style="text-align: right;">
  נסמן \(V=\left(v_{1},v_{2},\dots,v_{n}\right)=G\left(c_{i-1}-1\right)\). מה שבעצם נותר לנו להוכיח הוא ש-\(v_{k}=m_{k}\) לכל \(1\le k&lt;j\) וש-\(v_{j}=m_{j}-1\). הדרך שבה נעשה את זה תהיה לחסום את \(V\) בין שני וקטורים: נראה שהוא קטן מ-\(M\left(w\right)\) אבל שהוא גדול מוקטור אחר שנראה כמעט כמו \(M\left(w\right)\), מה שלא יאפשר ל-\(V\) להיות שונה במיוחד מ-\(M\left(w\right)\) בכל הכניסות עד ה-\(j\)-ית.
</p>

<p style="text-align: right;">
  נתחיל בלהראות ש-\(V&lt;M\left(w\right)\). מן הסתם \(c_{i-1}-1\) קטן מ-\(c_{i-1}\) ולכן המטבע \(c_{i-1}\) והגדולות ממנה לא יכולות להיות חלק מהפתרון החמדני עבור \(c_{i-1}\). אבל המטבע \(c_{i}\) בוודאי יהיה, כי הוא המטבע הגדול ביותר שעדיין קטן או שווה ל-\(c_{i-1}-1\). מכאן ש-\(v_{i}\ne0\). לכן אפשר להשתמש בתעלול שכבר הפך לשגור אצלנו – להפחית 1 מהכניסה ה-\(i\) הן ב-\(V\) והן ב-\(M\left(w\right)\) ולקבל את \(G\left(c_{i-1}-1-c_{i}\right)\) ואת \(M\left(w-c_{i}\right)=G\left(w-c_{i}\right)\), בהתאמה. כעת, אי השוויון שיש לנו על \(c_{i-1}\) מראה ש-\(c_{i-1}-1-c_{i}&lt;w-c_{i}\), ולכן \(G\left(c_{i-1}-1-c_{i}\right)&lt;G\left(w-c_{i}\right)\), כשהמעבר האחרון נובע מתכונת "שימור הסדר" של פתרונות חמדניים שראינו קודם.
</p>

<p style="text-align: right;">
  קיבלנו שוקטור א' יותר קטן מוקטור ב'. אם נחבר לשניהם 1 בכניסה ה-\(i\)-ית זה לא ישנה את הסדר היחסי בין הוקטורים שנקבל, שהם בדיוק \(V,M\left(w\right)\) בהתאמה, ולכן קיבלנו ש-\(V&lt;M\left(w\right)\).
</p>

<p style="text-align: right;">
  עכשיו בואו נחסום את \(V\) מלרע. לשם כך, בואו ניקח את \(M\left(w\right)\) ונקטין את \(m_{j}\) (הכניסה האחרונה שאינה 0) ב-1. נקבל את הוקטור \(G\left(w-c_{j}\right)\), ומכיוון שכבר ראינו ש-\(w-c_{j}&lt;c_{i-1}\), כלומר ש-\(w-c_{j}\le c_{i-1}-1\), נקבל ש-\(G\left(w-c_{j}\right)\le G\left(c_{i-1}-1\right)=V\).
</p>

<p style="text-align: right;">
  מכאן שהצלחנו לחסום את \(V\) כך: \(G\left(w-c_{j}\right)\le V&lt;M\left(w\right)\). זה מעניין, כי \(G\left(w-c_{j}\right)\) ו-\(M\left(w\right)\) הם כמעט אותו וקטור – הם נבדלים רק בכניסה \(m_{j}\) שב-\(M\left(w\right)\) גדולה ב-1. מכאן שעד לכניסה הזו גם \(V\) חייב להיות שווה אליהם (אחרת הוא היה גדול משניהם או קטן משניהם). כעת, מה קורה בכניסה \(m_{j}\)? אנחנו יודעים שקורה אחד משניים: \(v_{j}=m_{j}\) או \(v_{j}=m_{j}-1\) (אחרת, שוב, \(V\) היה גדול או קטן משני הוקטורים). האם יכול להיות ש-\(v_{j}=m_{j}\)? ובכן, לא: זאת מכיוון שכל הכניסות של \(M\left(w\right)\) שאחרי ה-\(j\)-ית הן אפסים. לכן, אם \(v_{j}=m_{j}\) זה אומר ש-\(V\) זהה ל-\(M\left(w\right)\) ב-\(j\) הכניסות הראשונות וביתר הכניסות הוא שווה או גדול ממנו, ומכאן נובע ש-\(M\left(w\right)\le V\) בסתירה לכך שכבר ראינו ש-\(V&lt;M\left(w\right)\). מכאן ש-\(v_{j}=m_{j}-1\). ומה על יתר הכניסות של \(V\)? ובכן, הן פשוט לא מעניינות אותנו; השגנו בדיוק את מה שרצינו להשיג. זה מסיים את המשפט ומסיים את כל הטיפול בבעיית "נתונה מערכת מטבעות – האם היא קנונית?"
</p>

<p style="text-align: right;">
  ההוכחה עשויה להיראות כמו ערב-רב של פרטים כרגע, אבל נסו לקרוא אותה שוב – יש כמה רעיונות בסיסיים ויפים שחוזרים בה שוב ושוב והם בעצם העיקר.
</p>

<p style="text-align: right;">
  נעבור עכשיו לדבר על הבעיה השניה – בהינתן \(C,x\) לקבוע האם \(G_{C}\left(x\right)=M_{C}\left(x\right)\). מכיוון שלחשב את \(G_{C}\left(x\right)\) זה קל, ברור שה"קושי" של הבעיה מסתמך על כך שבאופן כללי חישוב של \(M_{C}\left(x\right)\) הוא קשה. מה זה אומר, "קשה"? איך מודדים את זה? נתחיל מהשקר שקל יחסית לעכל ונעבור לאמת המסובכת והעגומה יותר. השקר הוא זה: אין לנו דרך "חכמה" לחשב את \(M_{C}\left(x\right)\) ולכן אנחנו פשוט עוברים על <strong>כל</strong> האפשרויות לייצג את \(x\) בעזרת \(C\) ובודקים מי מהן הכי חסכונית במטבעות. הבעיה היא שיש מספר גדול של אפשרויות: נניח שיש לנו \(n\) סוגי מטבעות ואנחנו תוהים אם אפשר לייצג משהו שגודלו גדול מסכום כל המטבעות. אז יש לנו \(2^{n}\) אפשרויות לחלוקה שכוללת כל מטבע רק פעם אחת או אפס פעמים, ובפועל יש הרבה יותר חלוקות מזה – מספר החלוקות הוא <strong>אקספוננציאלי</strong>. לעבור על כולן לוקח המון זמן. זה לא יעיל באופן שבו מודדים "יעילות" במדעי המחשב.
</p>

<p style="text-align: right;">
  זה סוף השקר, וזה שקר יחסית משביע רצון שמעביר את האינטואיציה. אבל מהי האמת?
</p>

<p style="text-align: right;">
  האמת היא שאנחנו לא יודעים אם זו בעיה קשה או לא. זה נכון שלחשב את \(M\left(x\right)\) על ידי האלגוריתם "עבור על כל האפשרויות ובדוק" זה לא יעיל, אבל מי אומר לנו שאין אלגוריתם יותר מתוחכם? אנחנו לא מכירים כזה בהכרח, אבל מי אומר שאין? למעשה, בפועל <strong>יש</strong> אלגוריתמים יותר מתוחכמים, שאני לא מכניס לפוסט הזה כי גם ככה הוא עמוס, אבל גם הם סובלים מאי-יעילות (דהיינו, הם טובים הרבה יותר מהאלגוריתם הנאיבי שהצגתי, אבל זמן הריצה שלהם עדיין איטי למדי). כדי להגיד שהבעיה קשה, אני צריך <strong>להוכיח</strong> איכשהו טענה כללית: ש<strong>כל</strong> האלגוריתמים שפותרים את הבעיה הם לא יעילים. איך אפשר להקיף את <strong>כל</strong> האלגוריתמים? זה בוודאי לא משהו טריוויאלי. ולמען האמת, זה אפילו לא נגמר כאן. הבעיה שאני הצגתי היא הבעיה הבאה: בהינתן \(C,x\) האם \(G_{C}\left(x\right)=M_{C}\left(x\right)\)? זו בעיה שהתשובה לה היא "כן/לא". ייתכן, תיאורטית, שאפשר לענות עליה <strong>בלי</strong> שנצטרך בכלל לחשב את \(M_{C}\left(x\right)\), כלומר זו עשויה להיות בעיה <strong>קלה</strong> יותר מאשר חישוב של \(M_{C}\left(x\right)\), ולכן כל הטיעון האינטואיטיבי שנתתי למעלה היה רמאות מובהקת – הוא הסביר למה בעיה <strong>אחרת</strong> היא קשה. אמנם, אין לי מושג איך לפתור את הבעיה שלי מבלי לפתור את הבעיה האחרת, אבל זה שאני לא חושב על משהו לא אומר שאין.
</p>

<p style="text-align: right;">
  ברוכים הבאים לעולם של מדעי המחשב התיאורטיים ולתחושה על קצה המזלג של "למה להוכיח חסמים תחתונים זה קשה". ועדיין, במובן מסויים שהוא פורמלי לגמרי במדעי המחשב התיאורטיים הבעיה נחשבת קשה. באיזה מובן? במובן זה שאם אנחנו מוצאים פתרון יעיל עבורה, הדבר יגרור פתרון יעיל עבור אלפי (עשרות אלפי?) בעיות אחרות במדעי המחשב ש<strong>לאף אחת מהן</strong> לא נמצא עד היום פתרון יעיל שכזה. הבעיות הללו נקראות הבעיות ה-NP-שלמות, ולא אסביר כרגע מהיכן מגיע השם. רק אעיר שמדובר על בעיות שמגיעות משלל תחומים שונים ומנוסחות לעתים בצורות שונות ביותר – ועדיין, באף תחום לא הצליחו לפתור ביעילות אף אחת מהבעיות הללו, מה שמוביל אותנו לאמץ את הנחת העבודה שכנראה אין פתרון יעיל עבורן. אבל הוכחה לכך? אין. הבעיה הזו – כיצד לפתור בעיה NP-שלמה ביעילות או להוכיח שאין פתרון יעיל לאף אחת מהן – נקראת בעיית P=NP והיא הבעיה התיאורטית הפתוחה המרכזית במדעי המחשב.
</p>

<p style="text-align: right;">
  הערה קטנה למתקדמים, שמי שלא בקיא בתחום יכול לוותר עליה: שימו לב שבניסוח שנתתי, הבעיה אינה ב-NP אלא ב-coNP, מכיוון שלא קיים "עד" ברור לכך ש-\(G_{C}\left(x\right)=M_{C}\left(x\right)\) אבל כן קיים "עד" ברור לכך שהם שונים (בהינתן הפתרון האופטימלי קל לבדוק שהוא שונה מהחמדני). כשאני אומר "הבעיה" אני מתכוון בעצם למשלימה של הבעיה שלנו, וכך גם אפעל בהמשך; הדקות הזו לא קריטית למי שלא מצוי בנבכי ההגדרות הפורמליות.
</p>

<p style="text-align: right;">
  איך מראים שבעיה היא NP-שלמה? הדרך המקובלת היא באמצעות מעין רקורסיה: לוקחים בעיה שכבר יודעים שהיא NP-שלמה, ומוכיחים שאם אנחנו יודעים לפתור ביעילות את הבעיה החדשה, אז אנחנו יודעים לפתור ביעילות את הבעיה ה-NP-שלמה הישנה (לדבר כזה קוראים <strong>רדוקציה</strong>). כמובן, רקורסיה צריכה להתחיל מהיכן שהוא, ונקודת ההתחלה הסטנדרטית – השפה ה-NP-שלמה ה"ראשונה", היא בדרך כלל שפה שנקראת SAT שלא אתאר במפורש כאן.
</p>

<p style="text-align: right;">
  אז כדי להוכיח שבעיית המטבעות היא NP-שלמה אני צריך לקחת בעיה NP-שלמה קיימת ולעשות רדוקציה שלה אל בעיית המטבעות. מה שאומר שאני קצת מרמה: אני יכול לבחור איזו בעיה NP-שלמה שנוח לי לעבוד איתה בתור "נקודת התחלה", ומן הסתם בפוסט הזה לא אוכיח שגם היא NP-שלמה. בפועל יש כמה בעיות "סטנדרטיות" שכולם מכירים ונהוג להשתמש בהן או בוריאציות עליהן, ואני הולך להשתמש בוריאציה על בעיה שנקראת Subset Sum. הבעיה המקורית היא כזו: נתונה קבוצה \(S=\left\{ x_{1},x_{2},\dots,x_{n}\right\} \) של מספרים ועוד מספר אחד \(c\). השאלה היא אם קיימת תת-קבוצה של \(S\), שאסמן \(S^{\prime}\), שסכום האיברים בה שווה בדיוק ל-\(c\), כלומר \(\sum_{x\in S^{\prime}}x=c\).
</p>

<p style="text-align: right;">
  את הבעיה הזו אפשר לנסח בצורה שונה אבל שקולה לגמרי: נתון הוקטור \(X=\left(x_{1},\dots,x_{n}\right)\) של מספרים (אפשר לדרוש במפורש שמספר לא מופיע פעמיים בוקטור אבל זה לא חשוב). האם קיים וקטור <strong>בינארי </strong>\(A=\left(a_{1},\dots,a_{n}\right)\) כך ש-\(X\cdot A=c\)? כאן "וקטור בינארי" אומר שכל כניסה בוקטור היא 0 או 1.
</p>

<p style="text-align: right;">
  הוריאציה שאני אשתמש בה מרשה ל-\(A\) להכיל מספרים טבעיים כלשהם, לא רק 0 ו-1 (אבל לא מספרים שליליים). לא אוכיח כאן שהיא NP-שלמה אבל זה תרגיל טוב. בניסוח הזה, הבעיה נראית כמעט לגמרי כמו בעיית המטבעות, בהבדל אחד – אנחנו לא מדברים על <strong>אופטימיזציה</strong> אלא על היתכנות. חשבו על \(X\) בתור מערכת המטבעות שלנו, אבל ללא דרישה ש-1 יהיה שייך אליה, ואז השאלה היא אם אפשר בכלל לייצג ערך \(c\) נתון במערכת הזו.
</p>

<p style="text-align: right;">
  אם כן, אני מקבל \(X=\left(x_{1},\dots,x_{n}\right)\) ו-\(c\) ורוצה לייצר שני דברים: מערכת מטבעות \(C\), וערך \(y\) כלשהו, כך שמתקיים ש-\(G_{C}\left(y\right)\ne M_{C}\left(y\right)\) אם ורק אם קיים \(A\) כך ש-\(X\cdot A=c\). זו המהות של רדוקציה – המרה של מקרה לבדיקה של בעיה אחת למקרה לבדיקה של בעיה אחרת.
</p>

<p style="text-align: right;">
  לכאורה יש לי מגבלה די מהותית – ה"נשק" היחיד שיש לי הוא הפער שיכול להיות קיים בין הפתרון החמדני והאופטימלי. איכשהו אני צריך לנצל אותו כדי לדעת אם בכלל אפשר לייצג ערך כלשהו בעזרת \(X\). אבל אם חושבים קצת על האופן שבו אפשר ליצור מערכות של מטבעות שבהן הפתרון החמדני והאופטימלי לאו דווקא מזדהים, זה לא קשה. מה קרה במערכת הבריטית? היה לנו ערך – 48 – שמיוצג בקלות על ידי מספר קטן כלשהו – 24. אלא שיש מעל 24 מספר גדול יותר, 30, ש"מכריח" את הפתרון החמדני לפספס את 24 ולעבור להתעסק עם מספרים קטנים יותר. על זה אני אבנה את הפתרון שלי, וכדי שיהיה קל להבין אותו אני אסביר מה אני עושה במקרה פרטי.
</p>

<p style="text-align: right;">
  המקרה הפרטי יהיה \(X=\left(10,20,30,40\right)\) ונראה מה אני עושה עבור \(c\)-ים שונים. יש ב-\(X\) ארבעה איברים, ולכן אני רוצה לבנות מערכת מטבעות \(C\) וערך \(y\) כך שאם \(c\) ניתן לייצוג בידי \(X\), אפשר יהיה לייצג את \(y\) ב-\(C\) באותה הצורה, עם לכל היותר ארבעה איברים; אבל אם אי אפשר, אז כדי לייצג את \(y\) אני אצטרך לפחות חמישה איברים. למעשה, די קל לעשות את זה – נגדיר את \(C\) להיות \(X\) ועוד שני איברים: \(1\) (שחייב תמיד להיות ב-\(C\)) ו-\(c-4\).
</p>

<p style="text-align: right;">
  בואו נראה איך זה עובד. קודם כל, ניקח \(c=60\) שאנחנו יודעים שאפשר לייצג ב-\(X\). אז \(C=\left(56,40,30,20,10,1\right)\) ו-\(y=60\). הפתרון המינימלי במקרה זה הוא \(60=40+20\). הפתרון החמדני, לעומת זאת, קודם כל ייקח את \(56\), יישאר עם 4, ואז יקח את 1 עוד 4 פעמים – כלומר, גודלו 5.
</p>

<p style="text-align: right;">
  לעומת זאת, אם ניקח \(c=64\), שלא ניתן לייצוג על ידי \(X\), אז נקבל \(C=\left(60,40,30,20,10,1\right)\) ו-\(y=64\). במקרה זה, בבירור הפתרון האופטימלי הוא \(64=60+1+1+1+1\) וזהו גם הפתרון החמדני.
</p>

<p style="text-align: right;">
  ומה קורה אם \(c\) קטן יותר מחלק מהאיברים ב-\(X\), למשל \(c=24\)? ובכן, בדוגמה הזו אין שום שינוי מהותי – הפתרון החמדני עדיין ייקח את \(c-4\) בתור האיבר הראשון. מתי כן עשויה להתעורר בעיה? כאשר \(c-4\) אינו האיבר הגדול ביותר שעדיין קטן מ-\(y\). למשל, אם ניקח \(y=32\) אז נקבל \(C=\left(40,30,28,20,10,1\right)\), ואז הפתרון החמדני יהיה \(30+1+1\), שהוא גם הפתרון האופטימלי. עוד בעיה שיכולה להתעורר היא במקרה שבו \(c\) ממש קטן – למשל, 2.
</p>

<p style="text-align: right;">
  במקרה הזה אני אבחר את \(y\) להיות גדול מאוד, עם שתי דרכים שונות להקטין אותו – אחת שתכריח אותנו להשתמש ב-1 מכאן ואילך, ואחת שתאפשר לנו להשתמש ב-\(X\). פורמלית, \(y=c+T\) כאשר \(T\) הוא מספר שגדול מהסכום של כל אברי \(X\), ונוסיף למערכת שלנו את \(y-5\) ואת \(T\) עצמו. במקרה שלנו \(40+30+20+10=100\) אז בואו נבחר \(T=200\) כי אפשר, ואז עבור \(c=32\) נקבל \(y=232\) ואת המערכת \(\left(227,200,40,30,20,10,1\right)\). הפתרון החמדני הוא \(227+1+1+1+1\) וקל לראות שהוא אופטימלי.
</p>

<p style="text-align: right;">
  עוד מקרה קצה אחד שבו צריך לטפל הוא זה שבו \(c-4\) גדול מאחד מאברי \(X\). פתרון פשוט? לכפול את כל אברי \(X\) ב-10 ואת \(c\) ב-10 ולהמשיך משם. אני אשאיר לכם לטפל בפרטים.
</p>

<p style="text-align: right;">
  זו הייתה רדוקציה במקרה של \(X\) ספציפית, אבל תחליפו את \(4\) ב-\(n\) ותקבלו את הרדוקציה עבור \(X\) כללי – שוב, אני ממליץ לאלו מכם שמעוניינים לשבת ולכתוב אותה פורמלית ולהוכיח שהיא עובדת.
</p>

<p style="text-align: right;">
  סיימנו! זה היה פוסט ארוך למדי בגלל שהסברתי כל צעד ושעל; אני מקווה שכמות האנשים שנשברו בגלל זה הייתה קטנה מכמות האנשים שהצליחו ללמוד משהו חדש בזכות זה. במילים אחרות, העדפתי את הפתרון האופטימלי על החמדני. או את החמדני על האופטימלי?
</p>


    <hr>
    <h2>סכום ריבועי הספרות, מספרים "שמחים" ו"עצובים"</h2>
    <h3>אליהו לוי</h3>
    <p style="direction: rtl;">
  נסמן ב-$latex {\mathbb{N}}$ את קבוצת המספרים הטבעיים $latex {1,2,3,\ldots}$.
</p>

<p style="direction: rtl;">
  עבור כל מספר כזה, אפשר לחשב את סכום ריבועי הספרות העשרוניות. למשל:
</p>

<p style="direction: rtl; text-align: center;">
  $latex 1\rightarrow 1$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 2\rightarrow 4$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 100\rightarrow 1^2+0^2+0^2=1$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 87\rightarrow 8^2+7^2=64+49=113$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 2506\rightarrow 2^2+5^2+0^2+6^2=4+25+0+36=65 $
</p>

<p style="direction: rtl;">
  זוהי העתקה מהקבוצה האינסופית $latex {\mathbb{N}}$ לעצמה. אמנם די מלאכותית, אבל נושא "לגיטימי" לתרגיל&#8230;
</p>

<p style="direction: rtl;">
  אותנו מעניין מה קורה כשחוזרים על פעולה זו.
</p>

<p style="direction: rtl;">
  הערת אגב: אם לוקחים את סכום הספרות עצמן ולא את ריבועיהן, וחוזרים על הפעולה מגיעים בסוף למספר בן סיפרה אחת, שכמובן יועתק עכשיו לעצמו, והשווה לשארית של המספר המקורי בחלוקה ל 9, (ול- 9 אם המספר מתחלק ל 9). אם אינכם מכירים זאת, נסו להוכיח זאת בעצמכם.
</p>

<p style="direction: rtl;">
  נחזור לסכום ריבועי הספרות. כאן כמובן מספר חד-סיפרתי לא יועתק לעצמו. נבדוק מה קורה (כמובן רצוי לתכנת מחשב שיעשה את העבודה):
</p>

<p style="direction: rtl; text-align: center;">
  $latex 1 \rightarrow 1$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 2 \rightarrow 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 3 \rightarrow 9 \rightarrow 81 \rightarrow 65 \rightarrow 61 \rightarrow 37 \rightarrow 58 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 \rightarrow 16 \rightarrow 37$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 5 \rightarrow 25 \rightarrow 29 \rightarrow 85 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 6 \rightarrow 36 \rightarrow 45 \rightarrow 41 \rightarrow 17 \rightarrow 50 \rightarrow 25 \rightarrow 29 \rightarrow 85 \rightarrow$<br /> $latex  89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 7 \rightarrow 49 \rightarrow 97 \rightarrow 130 \rightarrow 10 \rightarrow 1 \rightarrow 1$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 8 \rightarrow 64 \rightarrow 52 \rightarrow 29 \rightarrow 85 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 9 \rightarrow 81 \rightarrow 65 \rightarrow 61 \rightarrow 37 \rightarrow 58 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 \rightarrow 16 \rightarrow 37$
</p>

<p style="direction: rtl; text-align: center;">
  $latex 10 \rightarrow 1 \rightarrow 1 $
</p>

<p style="direction: rtl;">
  לפחות המספרים שאנו רואים כאן מתחלקים לשתי קבוצות: מספרים, שבעיקבות הספר $latex {R.~Guy, Unsolved Problems in Number Theory, 3rd Edition, Springer-Verlag, 2004}$ (וראו גם בספר "מתמטיקסם" מאת יעל רוטנברג, הוצאת דני ספרים, $latex {2013}$), נקרא להם "מספרים שמחים", שמגיעים בסוף ל $latex {1}$ שמועתק לעצמו, ומספרים "עצובים" שנכנסים לבסוף למחזור
</p>

<p style="direction: rtl;" align="center">
  $latex 4 \rightarrow 16 \rightarrow 37 \rightarrow 58 \rightarrow 89 \rightarrow 145 \rightarrow 42 \rightarrow 20 \rightarrow 4 (*)$
</p>

<p style="direction: rtl;">
  מהטבלה אנו רואים שהמספרים $latex {1,7,10}$ הם שמחים, וכן גם $latex {49,97,130}$ בעוד שהמספרים $latex {2,3,4,5,6,8,9}$ הם עצובים, וכן כמובן אברי המחזור $latex {(*)}$ וגם $latex {81,65,61,25,29,85,36,45,41,17,50,64,52}$.
</p>

<p style="direction: rtl;">
  <b>משפט</b>.
</p>

<p style="direction: rtl;">
  כל מספר טבעי הוא או "שמח", כלומר חזרה על פעולת סכום ריבועי הסםרות תביא לבסוף ל $latex {1}$, או "עצוב", כלומר חזרה על פעולת סכום ריבועי הספרות תכניס אותנו לבסוף למחזור המסויים $latex {(*)}$.
</p>

<p style="direction: rtl;">
  <b>הוכחה</b>.
</p>

<p style="direction: rtl;">
  ההוכחה תיעשה בעזרת שורת משפטי עזר.
</p>

<p style="direction: rtl;">
  <b>משפט עזר 1</b>.
</p>

<p style="direction: rtl;">
  אם $latex {n\le162}$ אז גם סכום ריבועי הספרות של $latex {n}$ קטן או שווה ל $latex {162}$.
</p>

<p style="direction: rtl;">
  <b>הוכחה</b>.
</p>

<p style="direction: rtl;">
  אם $latex {n&lt;100}$, סכום ריבועי הספרות לכל היותר $latex {9^2+9^2=162}$. אם $latex {100\le n\le 162}$ אזי סיפרת המאות של $latex {n}$ היא $latex {1}$, וסיפרת העשרות לכל היותר $latex {6}$ ולכן סכום ריבועי הספרות לכל היותר $latex {1^2+6^2+9^2=118}$.
</p>

<p style="direction: rtl;">
  <b>משפט עזר 2</b>.
</p>

<p style="direction: rtl;">
  כל מספר $latex {n\le162}$ הוא או "שמח" או "עצוב".
</p>

<p style="direction: rtl;">
  <b>הוכחה</b>.
</p>

<p style="direction: rtl;">
  יש להמשיך את הטבלה שלעיל עד $latex {162}$ (עדיף ע"י תיכנות מחשב לעשות את העבודה). מכיוון שאף פעם לא נחרוג מהקבוצה $latex {\{1,2,\ldots,162\}}$, הסידרה שתתקבל מכל מספר שנצא חייבת לחזור אי-פעם למספר שכבר היה בה, ואז היא תיכנס למחזור. בודקים שהמחזור הוא תמיד או $latex {1 \rightarrow 1}$ (ואז המספר "שמח" או $latex {(*)}$ ואז המספר "עצוב".
</p>

<p style="direction: rtl;">
  <b>משפט עזר 3</b>.
</p>

<p style="direction: rtl;">
  אם $latex {n&gt;1000}$ אזי סכום ריבועי הספרות של $latex {n}$ קטן או שווה מ $latex {\textstyle{\frac12} n}$.
</p>

<p style="direction: rtl;">
  <b>הוכחה</b>.
</p>

<p style="direction: rtl;">
  מספר הספרות של $latex {n}$ קטן או שווה מ- $latex {\log_{10}n+1}$. לכן סכום ריבועי הספרות קטן או שווה מ $latex {81(\log_{10}n+1)}$. אנו צריכים להוכיח ש
</p>

<p style="direction: rtl; text-align: center;">
  $latex 81(\log_{10}n+1)\le\frac12 n$<br /> <span style="color: #000000;">$latex 162(\log_{10}n+1)\le n $</span>
</p>

<p style="direction: rtl;">
  את זה אםשר להוכיח באינדוקציה עבור $latex {n\ge1000}$. עבור $latex {n=1000}$ בודקים שזה נכון. אם זה נכון עבור $latex {n}$, המקיים $latex {n\ge1000}$,
</p>

<p style="direction: rtl;" align="center">
  $latex 162(\log_{10}(n+1)+1)=162(\log_{10}n+1)+162\log_{10}\left(\frac{n+1}n\right)\le n+162\log_{10}\left(1+\frac1n\right)$
</p>

<p style="direction: rtl;">
  בשביל שזה יהיה קטן או שווה מ $latex {n+1}$ אנו צריכים ש
</p>

<p style="direction: rtl;" align="center">
  $latex \log_{10}\left(1+\frac1n\right)\le\frac1{162}$
</p>

<p style="direction: rtl;">
  וזה נכון כי עבור $latex {x&gt;0}$ מתקיים $latex {\log_{10}(1+x)\le\ln(1+x)\le x}$ ואצלנו $latex {n\ge1000}$.
</p>

<p style="direction: rtl;">
  שימו לב שהיינו צריכים להשתמש באי-שוויון לא טריוויאלי של םונקציית ה $latex {\log}$.
</p>

<p style="direction: rtl;">
  <b>משפט עזר 4</b>.
</p>

<p style="direction: rtl;">
  מכל מספר טבעי $latex {n}$ נגיע, ע"י הפעלה חוזרת של םעולת סכום ריבועי הספרות, למספר קטן או שווה ל $latex {162}$.
</p>

<p style="direction: rtl;">
  <b>הוכחה</b>.
</p>

<p style="direction: rtl;">
  לפי משפט עזר 3. נקטיו את $latex {n}$ לפחות פי שניים בכל צעד עד שנגיע למספר קטו מ $latex {1000}$. עבור מספר זה סכום ריבועי הספרות יהיה לכל היותר $latex {3\times9^2=243}$. כעת יהיה סכום ריבועי הצלעות לכל היותר $latex {2^2+9^2+9^2=166}$, ואם מספר זה גדול מ $latex {162}$ אזי סכום ריבועי הצלעות שלו לא יעלה על $latex {1^2+6^2+9^2=118}$ וגמרנו.
</p>

<p style="direction: rtl;">
  וטענת המשפט נובעת כעת ממשפטי העזר 2 ו 4.
</p>


    <hr>
    <h2>מה זו "מתמטיקה"</h2>
    <h3>רון אהרוני</h3>
    <p dir="rtl" style="text-align: right;">
  <span style="font-size: 12pt;">1. קשיי הגדרה</span>
</p>

<blockquote>
  <p dir="rtl" style="text-align: right; padding-right: 30px;">
  "אוֹמְרִים, אַהֲבָה יֵשׁ בָּעוֹלָם.<br /> מַה זֹּאת אַהֲבָה?"<br /> ("הכניסיני תחת כנפך",חיים נחמן ביאליק)<br /> "אינני יודע להגדיר "פורנוגרפיה", אבל אני יודע לזהות פורנוגרפיה כשאני רואה אותה."<br /> (פּוֹטֶר סטיוארט, חבר בית המשפט העליון האמריקאי)<br /> "איננו יודעים למה אנחנו מתכוונים ב"שיר יפה", אבל זה לא מונע מאיתנו להכיר ביופיו של שיר כשאנו קוראים אותו."<br /> (גודפרי הרולד הרדי, מתוך "התנצלותו של מתמטיקאי")
</p>
</blockquote>

<p dir="rtl" style="text-align: right; padding-right: 30px;">
  אם תבקש מתמטיקאי להגדיר את מקצועו, קרוב לוודאי שיגמגם. פיזיקאי יידע לומר מה הוא חוקר, אבל מתמטיקאי, גם לאחר שנות מחקר ארוכות, יתקשה להגדיר את עיסוקו. אחת ההגדרות המקובלות למתמטיקה היא על פי נושאי החקירה שלה: "המדע של המספר והצורה". במילים אחרות, המתמטיקה עוסקת בחקר המספרים (חשבון) ובגיאומטריה. בכך יש הרבה אמת. כמעט כל תחום מתמטי מודרני התפתח מאחד הנושאים האלה, וכמעט בכל תחום יש צד גיאומטרי או מספרי. יותר מכך, כמעט בכל תחום מופיעים שני הנושאים כאחד, וככל שהמתמטיקה מתקדמת כך קשה יותר להפריד בין השניים – הגיאומטריה תורמת למספרים ולהפך. אלא שהסיוג "כמעט" הוא בלתי נמנע: רק כמעט בכל תחום מופיעים מספרים או גיאומטריה. יש תחומים שבהם אין תפקיד משמעותי לאף אחד מן השניים. על אחד מהם, הלוגיקה המתמטית, יסופר בהמשך פרק זה. גם כאשר מופיעים מספרים, לא תמיד הם בלב העניין. כך, למשל, המושגים העיקריים בחידת הנמלים מן הפרק הראשון – "התנגשות", "החלפת כיוון" – לא היו מספריים ורק בדוחק הם היו צורניים. הרעיון לפתרון, שהיה כזכור התעלמות מזהות הנמלים, לא נגע לצורה או למספר.
</p>

<p dir="rtl" style="text-align: right;">
  <span style="font-size: 12pt;">2. הפשטה</span>
</p>

<p dir="rtl" style="text-align: right; padding-right: 30px;">
  מה מייחד אפוא את המתמטיקה? ארשה לעצמי לצטט סיפור מספרי חשבון להורים (הוצאת שוקן, תשס"ד). בכיתה א' אני מבקש מן הילדים שיבדקו כמה הם (נאמר) 3 עפרונות ועוד 2 עפרונות. הילדים למדו שחיבור פירושו צירוף. הם מצרפים 3 עפרונות ל-2 עפרונות, ומוצאים שמתקבלים 5 עפרונות. עתה אני שואל: כמה הם 3 מחקים (נאמר) ועוד 2 מחקים? 5 מחקים, הם משיבים מייד. מנין אתם יודעים? כי ראינו זאת עם עפרונות. אז מה? אני טוען. אולי עם מחקים זה אחרת?<br /> הילדים צוחקים. אבל השאלה שלי אינה מצחיקה כלל. בה טמון כל סודה של המתמטיקה: הכלליוּת. המתמטיקה מפשיטה את הסיטואציה מן הפרטים הטפלים, ומותירה את העיקר. במקרה זה, העיקר הוא ששני עצמים ועוד שלושה הם חמישה, ללא קשר לטיבם או לסידורם בחלל. כל תחום חשיבה עושה הפשטות מסוג זה. המייחד את המתמטיקה הוא שהיא מביאה זאת לקיצוניות. היא מפעילה הפשטה על תהליכי החשיבה הבסיסיים ביותר.<br /> הדוגמה הקלאסית לכך היא מושג המספר. המספרים נולדו מהפשטה של תהליך החשיבה הבסיסי ביותר: חלוקת העולם לעצמים. היסוד לחשיבה הוא חלוקת העולם ליחידות, וכינוין בשם: "תפוח", "משפחה", "מדינה". מתוך התהליך הזה הומצאו המילים, וגם מושג המספר. הבחנה ביחידה אחת יוצרת את המושג "1": "תפוח אחד". כאשר אנו מבחינים בקיומן של יחידות נוספות מאותו סוג, אנחנו אומרים "2 תפוחים, 3 תפוחים, 4 תפוחים…".<br /> אולם קיצוניות ההפשטה אינה המאפיין היחיד של המתמטיקה, ואינה הדרך היחידה לתהות על טבעה. אפשר לראות את המתמטיקה גם מזווית אחרת, פורמלית יותר, ולכך אנו מגיעים עתה.
</p>

<p dir="rtl" style="text-align: right;">
  <span style="font-size: 12pt;">3. פְרֶגֶה</span>
</p>

<p dir="rtl" style="text-align: right; padding-right: 30px;">
  למהפכה התעשייתית באירופה של המאה ה-19 היו תוצאות מרחיקות לכת לא רק לגבי איכות חייו של האדם, אלא לא פחות מכך גם על דרך תפיסתו של האדם את עצמו. משהתברר שמכונה יכולה להחליף שרירים ומיומנויות, התקצר המרחק למחשבה שהאדם בעצם דומה למדי למכונה. לא פלא הוא שתורתו של דרווין, שמיקמה את האדם כחבר בממלכת בעלי החיים, נולדה באותה תקופה, ודווקא באנגליה. מכאן לא היה המרחק רב לרעיון שמכונה תוכל להחליף את האדם גם בחשיבה. לא במפתיע, גם הרעיון הזה פותח בתחילה באנגליה, ערש המהפכה התעשייתית. באמצע המאה ניסה צ'רלס בבג' לבנות את מכונת חישוב המעשית הראשונה (רעיונות תיאורטיים באותו כיוון היו כבר לפסקל וללייבניץ, כמאתיים שנים קודם לכן). הוא לא השלים את המלאכה, אבל הרעיון היכה גלים.<br /> כעשרים שנים מאוחר יותר, בשנות ה-70 של המאה, הגיע מתמטיקאי-פילוסוף בשם גוטלוב פְרֶגֶה (Gottlob Frege, 1848-1925) מן האוניברסיטה הלא כל כך מרכזית בעיר הגרמנית יֶנָה, לרעיון מרחיק לכת עוד יותר. לא זו בלבד, כך אמר, שמכונה יכולה לבצע פעולות מתמטיות, אלא שהחשיבה האנושית עצמה מתנהגת כמכונה. ואם אכן החשיבה מכאנית, הרי אפשר לחקור אותה בצורה מתמטית, כפי שחוקרים כל תופעה גשמית בעולם, כמו תנועת גרמי השמיים, או זרימה של נוזל בצינור. ומכיוון שמתוך כלל החשיבה האנושית החשיבה המתמטית היא זו המצייתת לחוקים הברורים והמוגדרים ביותר, המועמדת הראשונה לתיאור מתמטי היא בדיוק החשיבה המתמטית. זה היה רעיון מהפכני: לחקור בצורה מתמטית את החשיבה המתמטית. במילים אחרות, לעשות מתמטיקה של המתמטיקה. שם אחר לחקירה הזאת הוא "מטא-מתמטיקה".<br /> בעידן המחשב הרעיון הזה נראה טבעי למדי. כיום אנו יודעים שחשיבה יכולה להיות נחלתה של מכונה, ומכונות מצייתות לכללים מוגדרים היטב, שאפשר לחקור אותם בצורה מתמטית. אבל בשלהי המאה ה-19, כאשר אפילו תורת דרווין הייתה חדשה וטרייה ונתונה במחלוקת, זו הייתה תובנה אמיצה מאוד. היא מצריכה את האדם לוותר על ייחודיותו, באותו תחום שבו נראה שהוא אכן שונה מכל שאר תופעות העולם: החשיבה המופשטת. בדיעבד, כאשר בוחנים את ההיסטוריה של התפתחות המחשב, זו הייתה נקודת מפנה משמעותית לא פחות מן המכונה של בבג'.<br /> החשיבה המתמטית מורכבת מחלקים רבים. יש בה בניית מושגים כך שיתאימו לתופעות בעולם, יצירתן של השערות, בניית תורות וקישורן זו לזו. אבל בתוך כל אלה יש פעילות אחת שנחשבת בעיני המתמטיקאים למשמעותית ביותר: ההוכחה. להשערה טובה יש ערך, אבל הצעד המכריע הוא ההוכחה שלה. פרגה הגביל את עצמו לצד זה של החשיבה המתמטית, בעיקר משום שהתאים לתבנית שלו. הוכחה, כך אמר פרגה, היא תהליך מכאני, משחק בסמלים על נייר, שמציית לחוקים ברורים ואפילו פשוטים למדי. זהו "משחק" במובן זה, שיש לו כללים נוקשים וקלים לניסוח, לא שונים עקרונית מכללי משחק השחמט, למשל. יש צעדים מותרים, ויש צעדים אסורים. פרגה הגדיר "הוכחה" כסידרת משפטים הכתובים (נאמר) על נייר, שכל אחד מהם נובע מקודמיו על פי אחד מתוך מספר מצומצם של "כללי היסק". גם את הרעיון הזה קל לבני דורנו לקבל, משום שזוהי הדרך בה פועל המחשב. המחשב "חושב" על ידי כך שהוא לוקח סידרה של סמלים – אף כי לאו דווקא על נייר (במחשב הם מקודדים באותות חשמליים), ופועל עליהם לפי הכללים שֶמוֹרָה לו התוכנית המריצה אותו. הוא מקבל כקלט סידרת סמלים אחת, ומוציא כפלט סידרת סמלים שנייה. כיום כל זה מובן מאליו; בזמנו של פרגה, ההבנה שפעולה פורמלית על סמלים הכתובים על נייר יכולה להיות "חשיבה" הייתה תובנה חדשנית.
</p>

<p dir="rtl" style="text-align: right;">
  <span style="font-size: 12pt;">4. ראסל</span>
</p>

<p dir="rtl" style="text-align: right; padding-right: 30px;">
  עבודתו של פרגה, שפורסמה ב-1879, נתקלה בהתעלמות כמעט מוחלטת. המגיב היחיד עליה היה המתמטיקאי גיאורג קנטור, מייסד תורת הקבוצות, והוא קטל אותה (כפי שנראה בהמשך, קנטור עצמו זכה בתורו לטיפול דומה מצד מתמטיקאים אחרים). פרגה הפך למר נפש, ופרסם התקפות על המתמטיקאים של ימיו. ייתכן שהיה לוקח לאנושות זמן רב עוד יותר לעכל את תגליותיו, לולא פגש ברטראנד ראסל (Bertrand Russell, 1872-1970) בעבודתו. לראסל האנגלי הייתה בילדותו אומנת גרמניה, שבזכותה למד גרמנית, וכך הגיע בבחרותו לגרמניה לצורך לימודיו. הוא קרא את מאמריו של פרגה, הבין את גודל חשיבותם, וכשחזר לאנגליה גייס את אלפרד נורת' וויטהד, מורהו בקיימבריג', למשימת נפילים: לכתוב חלקים מן המתמטיקה של זמנם בשפתו של פרגה. לתוצר עבודתם, הספר "פרינציפיה מתמטיקה", הייתה השפעה עצומה. זהו ספר כבד עד כדי אי ניתנות לקריאה. אבל רבים הבינו את המסר שבו, שחשיבה יכולה להיתפס כעניין מכאני, המציית לכללים מוגדרים היטב. מכאן ועד ליצירת המחשב הדרך לא הייתה ארוכה במיוחד – כארבעים שנים בלבד.<br /> בעיני פְרֶגֶה המתמטיקה היא אם כך משחק בסמלים. המתמטיקאי בוחר לעצמו מערכת אקסיומות, כמו למשל האקסיומות של תורת המספרים (דוגמה לאקסיומה: "לכל  <span style="color: #222222;">$latex n $</span> מספר מתקיים <span style="color: #222222;">$latex n+0=n $</span>"). אחר כך הוא חוקר אילו משפטים אפשר להוכיח מן האקסיומות, על פי חוקי הוכחה נוקשים וידועים מראש. כמובן, זוהי זווית ראייה אחת, צרה למדי, על המתמטיקה, מכיוון אחד בלבד – ההוכחות. היא מתעלמת, למשל, מן השלב של בחירת האקסיומות: מדוע נבחרת מערכת זו, ולא אחרת? מערכות אקסיומות אינן מופיעות סתם כך. הן נועדות לתאר את המציאות. טיב מערכת האקסיומות יקבע אם יהיה לחקירה ערך, אם היא תוביל למסקנות עמוקות או תתגלה כריקה ומשמימה. בדרך כלל, אם האקסיומות באמת מגיעות מן המציאות, הן מתגלות כפוריות.<br /> מעבר לכך, מעשה ההוכחה אינו באמת מכאני. עד היום אין יודעים דרך לתכנת מחשב כך שיגלה הוכחות בצורה יעילה. הדרך היחידה המוכרת לנו היא ניסוי וטעייה, ומכיוון שיש יותר מדי אפשרויות לבדוק, יותר מדי אפילו יחסית למהירותו של מחשב, זו אינה דרך מעשית. המתמטיקאי אינו עוסק בניסוי וטעייה. הוא מתבונן בבעיה ומנסה ליצור במוחו מבני חשיבה המתאימים לה. הוא חושב בצורה אינטואיטיבית. אני עצמי מאמין שיום אחד יבינו גם צד זה של החשיבה המתמטית, ויצליחו לתכנת גם אותו למחשבים. כאשר זה יקרה, המחשבים יידעו לשער השערות ולהוכיח משפטים מתמטיים מתוחכמים. וכשזה יקרה, זה יהיה בזכות תרומתו של פרגה.
</p>


    <hr>
    <h2>השערה בת מאות שנים נפתרה בטכניון</h2>
    <h3>אנה ליזהטוב</h3>
    <p style="direction: rtl;">
  מזה כמה חודשים אנחנו מלווים בנשימה עצורה ובהתפעלות אין קץ את עלילותיו של הרכש החדש של הפקולטה למתמטיקה בטכניון - המתמטיקאי הניסויי יסולא פז. יסולא שינה את פני המחקר המתמטי בפקולטה, וגם את פני ההוראה. בהוראה, הוא הוציא חוק, ברוח המתמטיקה הניסויית, שבמקום להוכיח משפטים מספיק שסטודנטים יראו שהמשפט נכון בשלוש דוגמאות. הוא גם הנהיג הוראה בעזרת התנייה, מול מכונות שנותנות לסטודנטים מכות חשמל אם טעו, ופרסים אם הצליחו.
</p>

<p style="direction: rtl;">
  אבל אף אחד לא יכול היה לנבא את הישגו האחרון של ד"ר פז, שהציב את הפקולטה למתמטיקה בטכניון בבת אחת במרכז מפת המחקר המתמטי העולמי. ד"ר פז הוכיח השערה שטובי החוקרים בעולם נאבקים בה מזה מאות שנים ללא הצלחה - השערת גולדבך.
</p>

<p style="direction: rtl;">
  כידוע, גולדבך לא היה מתמטיקאי ידוע. אבל הוא התפרסם בזכות מכתב עם השערה ששלח ב-$latex {1742}$ למתמטיקאי הגדול של המאה השמונה עשרה, לאונרד אוילר. אוילר וגולדבך עבדו שניהם בסנט פטרסבורג, וגולדבך היה יכול לומר את ההשערה שלו בעל פה, אבל הוא העדיף לכתוב. ההשערה ששלח היא זאת:
</p>

<p style="direction: rtl;">
  <b>האם כל מספר זוגי גדול מ-2 הוא סכום של שני מספרים ראשוניים?</b>
</p>

<p style="direction: rtl;">
  למשל, $latex {100}$ יכול להיכתב כסכום של שני מספרים ראשוניים בחמש דרכים:
</p>

<p style="direction: rtl;" align="center">
  $latex \displaystyle 3+97,~~11+89,~~17+83, ~~29+71, ~~41+59$
</p>

<p style="direction: rtl;">
  ההשערה הזאת ידועה עד ל-$latex {10}$ בחזקת $latex {18}$, ואין איש מפקפק בנכונותה. אבל זוהי ראיה, ולא הוכחה, אפילו בשביל מתמטיקאים ניסוייים.
</p>

<p style="direction: rtl;">
  כהרגלו, תקף ד"ר פז את הבעיה מזווית לא צפויה. הוא לקח את תקנון האקדמיה הרוסית למדעים, שבה עבדו גם גולדבך וגם אוילר, בתרגומו של י. ברוידא, ודילג בו בקפיצות של $latex {17}$ אותיות - $latex {17}$ היה כידוע המספר החביב על אוילר. והנה, זה פלא, ראו מה גילה:
</p>

<p style="direction: rtl;">
  "כל מספר זזוגי גדול הוא סססכום שששל מממספרים ראששפסקלרך"
</p>

<p style="direction: rtl;">
  ד"ר פז, ועמו עוזרו המסור שושן פנסה, לא יכלו להכיל את התרגשותם כשגילו את המשפט הזה. מהו הסיכוי שהשערת גולדבך תופיע, כמעט כלשונה, בתקנון יבש? אין שום ספק שהדבר מעיד על נכונות ההשערה. "גם את החזרה על אותיות בתחילת מילים אפשר להסביר בקלות", מסביר ד"ר פז בכובד הראש האופייני לו. "כידוע, גולדבך היה מגמגם, וכך היה יוצא המשפט לו היה אומר אותו בעל פה". ומה באשר לבלבול בסוף המשפט? ד"ר פז תולה זאת באי דיוק שהתגלה כנראה בתרגומו של ברוידא. "בדרך כלל התרגום של ברוידא מדויק להפליא", אומר ד"ר פז. "ייתכן שהגיע כאן לנקודה משפטית עדינה, והתרגום סטה במקצת מן המקור".
</p>

<p style="direction: rtl;">
  <b>ברגע האחרון</b> זה עתה נודע למערכת שמתמטיקאי סיני גילה אף הוא הוכחה להשערה. ד"ר פז הגיב על כך: "זהו דרכו של המדע. כשמגיע זמנה של השערה להיפתר, היא נפתרת פעמים רבות מכיוונים שונים."
</p>

<p style="direction: rtl;">
  <b>ברגע אחרי האחרון</b> בהוכחתו של הסיני התגלתה טעות. ד"ר פז השיב לכתבתנו אנה ליזהטוב שביקשה את תגובתו: "אינני מתפלא. מאות שנים ניסו המתמטיקאים לפתור את ההשערה בצורה הקונבציונלית. ברור היה שדרוש כאן רעיון חדש ופורץ דרך".
</p>


    <hr>
    <h2>חידות לילדים</h2>
    <h3>רון אהרוני</h3>
    <div dir="rtl" style="color: #222222;">
  <ol>
    <li>
      <span style="color: #222222;">כמה אפסים יש בסוף המספר $latex 1000! $ (אלף עצרת)?<br /> </span>מהי הספרה האחרונה שאינה $latex 0 $?
    </li>
    <li>
      לכמה חלקים מחלקים $latex 2014 $ ישרים את המישור, אם אין ביניהם שניים מקבילים, ואין שלושה שנפגשים באותה נקודה?
    </li>
    <li>
      מהו המספר המקסימלי של קטעים שאפשר להוציא מנקודה במרחב, כך שהזווית בין כל שניים מהם תהיה קהה?
    </li>
    <li>
      מהו המספר המינימלי $latex n $ שכל מספר גדול מ-$latex n $ אפשר לבטא כסכום של כפולות  לא שליליות של $latex 11 $ ו-$latex 13 $?<br /> (למשל, המספר $latex 59 $ ניתן לכתיבה בצורה כזו, כי הוא שווה ל  $latex 11*3 + 2*13 $ ואילו המספר $latex 60 $ אינו ניתן לכתיבה בצורה כזו.כדאי לנסות קודם עם צמדי מספרים קטנים מ-$latex 11 $ ו-$latex 13 $ !)
    </li>
  </ol>
</div>


      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">נטגר</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">נטגר</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>עיתון מתמטי לנוער</p>
      </div>
    </div>

  </div>

</footer></body>

</html>
